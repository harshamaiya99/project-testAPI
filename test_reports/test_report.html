<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>API Test Report</title>
    <style>body {
    font-family: 'Segoe UI';  /* Use clean sans-serif font */
    background: #f7f7f7;             /* Light grey background for the whole page */
    margin: 0;                       /* Remove default browser margins */
}

.container {
    max-width: 1200px;               /* Page content wonâ€™t stretch wider than 1200px */
    margin: 30px auto;               /* Center horizontally with top/bottom spacing */
    background: #fff;                /* White card-like background */
    padding: 30px;                   /* Inner spacing */
    border-radius: 8px;              /* Rounded corners */
    box-shadow: 0 2px 8px #ccc;      /* Subtle shadow for depth */
}

.summary {
    display: flex;                   /* Place summary items in a row */
    gap: 40px;                       /* Space between them */
    margin-bottom: 30px;             /* Space below summary bar */
}
.summary-item {
    background: #f0f0f0;             /* Light grey background for each item */
    padding: 20px;
    border-radius: 8px;
    flex: 1;                         /* Each box takes equal width */
    text-align: center;              /* Center text inside */
}
.summary-item .count {
    font-size: 2em;                  /* Make count numbers big */
    font-weight: bold;
}

.status-pass, .assertion-pass { color: green; }   /* Passed test = green */
.status-fail, .assertion-fail { color: red; }     /* Failed test = red */
.status-error { color: orange; }                  /* Error = orange */

.accordion-item {
    background: #fafafa;
    border: 1px solid #ddd;          /* Light border */
    border-radius: 6px;
    margin-bottom: 10px;             /* Space between accordions */
}
.accordion-header {
    cursor: pointer;                 /* Looks clickable */
    padding: 15px;
    font-weight: bold;
    display: flex;                   /* Arrange text & icon side by side */
    align-items: center;
    justify-content: space-between;  /* Space between title and expand icon */
}
.accordion-content {
    display: none;
    padding: 15px;
    border-top: 1px solid #eee;

    word-break: break-all;
    overflow-wrap: break-word;
    max-width: 100%;
}


.json-view-container {
    position: relative;              /* Makes the container the positioning context for absolutely positioned elements (like .copy-btn) */
    display: flex;                   /* Uses flexbox layout */
    align-items: flex-start;         /* Aligns items (like code + copy button) at the top */
}

.json-view {
    background: #222;                 /* Dark background (like a code editor theme) */
    color: #fff;                      /* White text for contrast */
    padding: 10px;                    /* Space inside around the text */
    border-radius: 6px;               /* Rounded corners */
    font-size: 0.95em;                /* Slightly smaller font for code-like look */
    max-height: 400px;                /* Limit height so long JSON doesnâ€™t overflow page */
    overflow: auto;                   /* Adds scrollbars if content is too long */
    width: 100%;                      /* Stretches to container width */
    margin: 0;                        /* No extra margin outside */
}

.copy-btn {
    position: absolute;              /* Places the button relative to the .json-view-container */
    top: 8px;                        /* Moves it 8px down from the top edge */
    right: 8px;                      /* Moves it 8px left from the right edge */
    background: #444;                /* Dark grey button background */
    color: #fff;                     /* White text (good contrast) */
    border: none;                    /* Removes default border */
    border-radius: 4px;              /* Rounds the button corners */
    padding: 4px 8px;                /* Space around the text for clickability */
    cursor: pointer;                 /* Pointer cursor on hover */
    font-size: 1em;                  /* Normal font size */
    opacity: 1;
    transition: opacity 0.2s;        /* Smooth fade-in effect when hovered */
}
.copy-btn:hover {
    opacity: 1;
    background: #007bff;             /* Bright blue on hover */
}

.filter-bar {
    margin-bottom: 20px;
    display: flex;                   /* Align filters side by side */
    gap: 20px;                       /* Space between filter elements */
    align-items: center;
}

#toggleAllBtn {
    margin-left: auto;               /* Pushes the button to the far right inside flex container */
    padding: 8px 16px;               /* Extra clickable space around the text */
    background-color: #007bff;       /* Bootstrap-style blue background */
    color: #fff;                     /* White text for contrast */
    border: none;                    /* Removes default button border */
    border-radius: 4px;              /* Slightly rounded corners */
    cursor: pointer;                 /* Pointer cursor on hover */
    font-size: 14px;                 /* Medium-sized readable text */
    transition: background-color 0.2s; /* Smooth color transition on hover/focus */
}

.filter-bar input,
.filter-bar select {
    padding: 6px 10px;     /* Adds inner spacing so text isnâ€™t cramped */
    border-radius: 4px;    /* Rounds the corners for a softer look */
    border: 1px solid #ccc;/* Light grey border to make it distinct */
}

</style>
</head>

<body>
<div class='container'>
    <h1>API Test Report</h1>
    <div class='summary'>
        <div class='summary-item'><div>Total Tests</div><div class='count'>2</div></div>
        <div class='summary-item status-pass'><div>Passed</div><div class='count'>2</div></div>
        <div class='summary-item status-fail'><div>Failed</div><div class='count'>0</div></div>
        <div class='summary-item status-error'><div>Error</div><div class='count'>0</div></div>
        <div class='summary-item'><div>Pass %</div><div class='count'>100.00%</div></div>
    </div>

    <div class='summary'>
        <div>Environment: <b>SIT</b></div>
        <div>Tester: <b>Harsha Maiya</b></div>
    </div>

    <div class='filter-bar'>
        <input type='text' id='searchInput' placeholder='Search by scenario...'>
        <select id='statusFilter'>
            <option value=''>All Statuses</option>
            <option value='Passed'>Passed</option>
            <option value='Failed'>Failed</option>
            <option value='Error'>Error</option>
        </select>
        <button id='toggleAllBtn'>Expand All</button>
    </div>

    <div class='accordion' id='testAccordion'>
        
        <div class='accordion-item' data-status='Passed'>
            <div class='accordion-header' onclick='toggleAccordion(this)'>
                <span>TC1 POST - passed & GET - passed</span>
                <span style='flex:1'></span>
                <span class='status' style='color:green;'>&#9679; Passed</span>
            </div>
            <div class='accordion-content'>
                
            <b>Request 1 - POST/Users</b><br>
            Method: <b>POST</b><br>
            Endpoint URL: <b>https://jsonplaceholder.typicode.com/posts</b><br>
            Request Headers: <div class='json-view-container'><pre class='json-view'>{
  "User-Agent": "python-requests/2.32.4",
  "Accept-Encoding": "gzip, deflate",
  "Accept": "*/*",
  "Connection": "keep-alive",
  "Content-Length": "51",
  "Content-Type": "application/json"
}</pre><button class='copy-btn' title='Copy to clipboard'>ðŸ“‹</button></div>
            <b>Request Body:</b> <div class='json-view-container'><pre class='json-view'>{
  "userId": 1,
  "title": "title 1",
  "body": "body 1"
}</pre><button class='copy-btn' title='Copy to clipboard'>ðŸ“‹</button></div><br>

            <hr>

            <b>Response Details</b><br>
            Status code: <b>201</b><br>
            Response headers: <div class='json-view-container'><pre class='json-view'>{
  "Date": "Fri, 29 Aug 2025 16:02:03 GMT",
  "Content-Type": "application/json; charset=utf-8",
  "Content-Length": "72",
  "Connection": "keep-alive",
  "access-control-allow-credentials": "true",
  "access-control-expose-headers": "Location",
  "Cache-Control": "no-cache",
  "etag": "W/\"48-G0DPXLpmhgdjomWuj2COQUnuJpI\"",
  "expires": "-1",
  "location": "https://jsonplaceholder.typicode.com/posts/101",
  "nel": "{\"report_to\":\"heroku-nel\",\"response_headers\":[\"Via\"],\"max_age\":3600,\"success_fraction\":0.01,\"failure_fraction\":0.1}",
  "pragma": "no-cache",
  "report-to": "{\"group\":\"heroku-nel\",\"endpoints\":[{\"url\":\"https://nel.heroku.com/reports?s=g99hFGjOu6Fla0t4oa5Vtyxi6C4mBpPR5Y0NEMk86rg%3D\\u0026sid=e11707d5-02a7-43ef-b45e-2cf4d2036f7d\\u0026ts=1756483323\"}],\"max_age\":3600}",
  "reporting-endpoints": "heroku-nel=\"https://nel.heroku.com/reports?s=g99hFGjOu6Fla0t4oa5Vtyxi6C4mBpPR5Y0NEMk86rg%3D&sid=e11707d5-02a7-43ef-b45e-2cf4d2036f7d&ts=1756483323\"",
  "Server": "cloudflare",
  "vary": "Origin, X-HTTP-Method-Override, Accept-Encoding",
  "via": "2.0 heroku-router",
  "x-content-type-options": "nosniff",
  "x-powered-by": "Express",
  "x-ratelimit-limit": "1000",
  "x-ratelimit-remaining": "999",
  "x-ratelimit-reset": "1756483364",
  "cf-cache-status": "DYNAMIC",
  "CF-RAY": "976d4544cad5ef4d-LHR",
  "alt-svc": "h3=\":443\"; ma=86400"
}</pre><button class='copy-btn' title='Copy to clipboard'>ðŸ“‹</button></div>
            Response body: <div class='json-view-container'><pre class='json-view'>{
  "userId": 1,
  "title": "title 1",
  "body": "body 1",
  "id": 101
}</pre><button class='copy-btn' title='Copy to clipboard'>ðŸ“‹</button></div>
            <hr><b>Assertions</b><ul><li class='assertion-pass'>Status Code - : Expected 201, Actual 201</li></ul><hr>
            <b>Request 2 - GET/Users</b><br>
            Method: <b>GET</b><br>
            Endpoint URL: <b>https://jsonplaceholder.typicode.com/posts/1</b><br>
            Request Headers: <div class='json-view-container'><pre class='json-view'>{
  "User-Agent": "python-requests/2.32.4",
  "Accept-Encoding": "gzip, deflate",
  "Accept": "*/*",
  "Connection": "keep-alive"
}</pre><button class='copy-btn' title='Copy to clipboard'>ðŸ“‹</button></div>
            

            <hr>

            <b>Response Details</b><br>
            Status code: <b>200</b><br>
            Response headers: <div class='json-view-container'><pre class='json-view'>{
  "Date": "Fri, 29 Aug 2025 16:02:04 GMT",
  "Content-Type": "application/json; charset=utf-8",
  "Transfer-Encoding": "chunked",
  "Connection": "keep-alive",
  "access-control-allow-credentials": "true",
  "Cache-Control": "max-age=43200",
  "etag": "W/\"124-yiKdLzqO5gfBrJFrcdJ8Yq0LGnU\"",
  "expires": "-1",
  "nel": "{\"report_to\":\"heroku-nel\",\"response_headers\":[\"Via\"],\"max_age\":3600,\"success_fraction\":0.01,\"failure_fraction\":0.1}",
  "pragma": "no-cache",
  "report-to": "{\"group\":\"heroku-nel\",\"endpoints\":[{\"url\":\"https://nel.heroku.com/reports?s=oRaRpmnFgujSbUpN53IuubkwPL3ru91PchZfJN05fF8%3D\\u0026sid=e11707d5-02a7-43ef-b45e-2cf4d2036f7d\\u0026ts=1751425777\"}],\"max_age\":3600}",
  "reporting-endpoints": "heroku-nel=\"https://nel.heroku.com/reports?s=oRaRpmnFgujSbUpN53IuubkwPL3ru91PchZfJN05fF8%3D&sid=e11707d5-02a7-43ef-b45e-2cf4d2036f7d&ts=1751425777\"",
  "Server": "cloudflare",
  "vary": "Origin, Accept-Encoding",
  "via": "2.0 heroku-router",
  "x-content-type-options": "nosniff",
  "x-powered-by": "Express",
  "x-ratelimit-limit": "1000",
  "x-ratelimit-remaining": "999",
  "x-ratelimit-reset": "1751425833",
  "Age": "17352",
  "cf-cache-status": "HIT",
  "Content-Encoding": "gzip",
  "CF-RAY": "976d454b2dbe639d-LHR",
  "alt-svc": "h3=\":443\"; ma=86400"
}</pre><button class='copy-btn' title='Copy to clipboard'>ðŸ“‹</button></div>
            Response body: <div class='json-view-container'><pre class='json-view'>{
  "userId": 1,
  "id": 1,
  "title": "sunt aut facere repellat provident occaecati excepturi optio reprehenderit",
  "body": "quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"
}</pre><button class='copy-btn' title='Copy to clipboard'>ðŸ“‹</button></div>
            <hr><b>Assertions</b><ul><li class='assertion-pass'>Status Code - : Expected 200, Actual 200</li></ul>
            </div>
        </div>
        

        <div class='accordion-item' data-status='Passed'>
            <div class='accordion-header' onclick='toggleAccordion(this)'>
                <span>TC2 POST - assertion error & GET - passed</span>
                <span style='flex:1'></span>
                <span class='status' style='color:green;'>&#9679; Passed</span>
            </div>
            <div class='accordion-content'>
                
            <b>Request 1 - POST/Users</b><br>
            Method: <b>POST</b><br>
            Endpoint URL: <b>https://jsonplaceholder.typicode.com/posts</b><br>
            Request Headers: <div class='json-view-container'><pre class='json-view'>{
  "User-Agent": "python-requests/2.32.4",
  "Accept-Encoding": "gzip, deflate",
  "Accept": "*/*",
  "Connection": "keep-alive",
  "Content-Length": "51",
  "Content-Type": "application/json"
}</pre><button class='copy-btn' title='Copy to clipboard'>ðŸ“‹</button></div>
            <b>Request Body:</b> <div class='json-view-container'><pre class='json-view'>{
  "userId": 2,
  "title": "title 2",
  "body": "body 2"
}</pre><button class='copy-btn' title='Copy to clipboard'>ðŸ“‹</button></div><br>

            <hr>

            <b>Response Details</b><br>
            Status code: <b>201</b><br>
            Response headers: <div class='json-view-container'><pre class='json-view'>{
  "Date": "Fri, 29 Aug 2025 16:02:05 GMT",
  "Content-Type": "application/json; charset=utf-8",
  "Content-Length": "72",
  "Connection": "keep-alive",
  "access-control-allow-credentials": "true",
  "access-control-expose-headers": "Location",
  "Cache-Control": "no-cache",
  "etag": "W/\"48-tPgiXnQ9z2LW2Ijp/yUk9jAcx60\"",
  "expires": "-1",
  "location": "https://jsonplaceholder.typicode.com/posts/101",
  "nel": "{\"report_to\":\"heroku-nel\",\"response_headers\":[\"Via\"],\"max_age\":3600,\"success_fraction\":0.01,\"failure_fraction\":0.1}",
  "pragma": "no-cache",
  "report-to": "{\"group\":\"heroku-nel\",\"endpoints\":[{\"url\":\"https://nel.heroku.com/reports?s=DYGVPS2res0IZJkDWtbcinBxRs6Eg%2FIFSojh2iBUws8%3D\\u0026sid=e11707d5-02a7-43ef-b45e-2cf4d2036f7d\\u0026ts=1756483325\"}],\"max_age\":3600}",
  "reporting-endpoints": "heroku-nel=\"https://nel.heroku.com/reports?s=DYGVPS2res0IZJkDWtbcinBxRs6Eg%2FIFSojh2iBUws8%3D&sid=e11707d5-02a7-43ef-b45e-2cf4d2036f7d&ts=1756483325\"",
  "Server": "cloudflare",
  "vary": "Origin, X-HTTP-Method-Override, Accept-Encoding",
  "via": "2.0 heroku-router",
  "x-content-type-options": "nosniff",
  "x-powered-by": "Express",
  "x-ratelimit-limit": "1000",
  "x-ratelimit-remaining": "998",
  "x-ratelimit-reset": "1756483364",
  "cf-cache-status": "DYNAMIC",
  "CF-RAY": "976d454effa6edf6-LHR",
  "alt-svc": "h3=\":443\"; ma=86400"
}</pre><button class='copy-btn' title='Copy to clipboard'>ðŸ“‹</button></div>
            Response body: <div class='json-view-container'><pre class='json-view'>{
  "userId": 2,
  "title": "title 2",
  "body": "body 2",
  "id": 101
}</pre><button class='copy-btn' title='Copy to clipboard'>ðŸ“‹</button></div>
            <hr><b>Assertions</b><ul><li class='assertion-pass'>Status Code - : Expected 201, Actual 201</li></ul><hr>
            <b>Request 2 - GET/Users</b><br>
            Method: <b>GET</b><br>
            Endpoint URL: <b>https://jsonplaceholder.typicode.com/posts/2</b><br>
            Request Headers: <div class='json-view-container'><pre class='json-view'>{
  "User-Agent": "python-requests/2.32.4",
  "Accept-Encoding": "gzip, deflate",
  "Accept": "*/*",
  "Connection": "keep-alive"
}</pre><button class='copy-btn' title='Copy to clipboard'>ðŸ“‹</button></div>
            

            <hr>

            <b>Response Details</b><br>
            Status code: <b>200</b><br>
            Response headers: <div class='json-view-container'><pre class='json-view'>{
  "Date": "Fri, 29 Aug 2025 16:02:06 GMT",
  "Content-Type": "application/json; charset=utf-8",
  "Transfer-Encoding": "chunked",
  "Connection": "keep-alive",
  "access-control-allow-credentials": "true",
  "Cache-Control": "max-age=43200",
  "etag": "W/\"116-jnDuMpjju89+9j7e0BqkdFsVRjs\"",
  "expires": "-1",
  "nel": "{\"report_to\":\"heroku-nel\",\"response_headers\":[\"Via\"],\"max_age\":3600,\"success_fraction\":0.01,\"failure_fraction\":0.1}",
  "pragma": "no-cache",
  "report-to": "{\"group\":\"heroku-nel\",\"endpoints\":[{\"url\":\"https://nel.heroku.com/reports?s=l%2BDHlzZCThCOy9sO4LdKUjyonAQegk4nCIwFNBjxKEo%3D\\u0026sid=e11707d5-02a7-43ef-b45e-2cf4d2036f7d\\u0026ts=1756007005\"}],\"max_age\":3600}",
  "reporting-endpoints": "heroku-nel=\"https://nel.heroku.com/reports?s=l%2BDHlzZCThCOy9sO4LdKUjyonAQegk4nCIwFNBjxKEo%3D&sid=e11707d5-02a7-43ef-b45e-2cf4d2036f7d&ts=1756007005\"",
  "Server": "cloudflare",
  "vary": "Origin, Accept-Encoding",
  "via": "2.0 heroku-router",
  "x-content-type-options": "nosniff",
  "x-powered-by": "Express",
  "x-ratelimit-limit": "1000",
  "x-ratelimit-remaining": "999",
  "x-ratelimit-reset": "1756007011",
  "Age": "18775",
  "cf-cache-status": "HIT",
  "Content-Encoding": "gzip",
  "CF-RAY": "976d45555b13cd40-LHR",
  "alt-svc": "h3=\":443\"; ma=86400"
}</pre><button class='copy-btn' title='Copy to clipboard'>ðŸ“‹</button></div>
            Response body: <div class='json-view-container'><pre class='json-view'>{
  "userId": 1,
  "id": 2,
  "title": "qui est esse",
  "body": "est rerum tempore vitae\nsequi sint nihil reprehenderit dolor beatae ea dolores neque\nfugiat blanditiis voluptate porro vel nihil molestiae ut reiciendis\nqui aperiam non debitis possimus qui neque nisi nulla"
}</pre><button class='copy-btn' title='Copy to clipboard'>ðŸ“‹</button></div>
            <hr><b>Assertions</b><ul><li class='assertion-pass'>Status Code - : Expected 200, Actual 200</li></ul>
            </div>
        </div>
        
    </div>
</div>
<script>function toggleAccordion(header) {
    var content = header.nextElementSibling;
    if (content.style.display === 'block') {
        content.style.display = 'none';
    } else {
        content.style.display = 'block';
    }
}

// Toggle Expand/Collapse All
let allExpanded = false;
document.getElementById('toggleAllBtn').onclick = function() {
    allExpanded = !allExpanded;
    document.querySelectorAll('.accordion-content').forEach(function(content) {
        content.style.display = allExpanded ? 'block' : 'none';
    });
    this.textContent = allExpanded ? 'Collapse All' : 'Expand All';
};


// Clipboard copy for json-view
document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.copy-btn').forEach(function(btn) {
        btn.addEventListener('click', function(e) {
            const pre = btn.parentElement.querySelector('.json-view');
            if (pre) {
                const text = pre.textContent;
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(text).then(function() {
                        btn.textContent = 'âœ…';
                        setTimeout(() => btn.textContent = 'ðŸ“‹', 1200);
                    });
                } else {
                    // fallback for older browsers
                    const textarea = document.createElement('textarea');
                    textarea.value = text;
                    document.body.appendChild(textarea);
                    textarea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textarea);
                    btn.textContent = 'âœ…';
                    setTimeout(() => btn.textContent = 'ðŸ“‹', 1200);
                }
            }
        });
    });
});

// Filter/Search
const searchInput = document.getElementById('searchInput');
const statusFilter = document.getElementById('statusFilter');

searchInput.addEventListener('input', filterAccordion);
statusFilter.addEventListener('change', filterAccordion);

function filterAccordion() {
    const keyword = searchInput.value.toLowerCase();
    const status = statusFilter.value;
    document.querySelectorAll('.accordion-item').forEach(item => {
        const scenario = item.querySelector('.accordion-header span').textContent.toLowerCase();
        const itemStatus = item.getAttribute('data-status');
        let show = true;
        if (keyword && !scenario.includes(keyword)) show = false;
        if (status && itemStatus !== status) show = false;
        item.style.display = show ? '' : 'none';
    });
}
</script>
</body>
</html>
