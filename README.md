# project_testAPI

Small API test automation project using CSV-driven test data, pytest, and simple HTML/DOCX reporting.

## What this project does

- Reads test case metadata from `input_files/test_case.csv` and test data (payloads and expected status codes) from `input_files/test_data.csv`.
- Runs parameterized API tests (POST then GET) in `tests/test_api.py` using `pytest` and `requests`.
- Collects per-test results into a session context and, on test session teardown, generates:
  - an HTML report: `test_reports/test_report.html`
  - per-test DOCX files in `test_results/` (appended with request/response details for passed cases)
- Optionally exports base DOCX test case files from the Word template via `test_result_generator.py`.

## Repository layout (key files)

- `config/config.py` â€” paths and constants used across the project.
- `input_files/test_case.csv` â€” test case metadata (tc_no, tc_name, tc_description).
- `input_files/test_data.csv` â€” test data rows (tc_no,userId,title,body,post_status_code,get_status_code,id).
- `tests/test_api.py` â€” main pytest test and the session fixture that aggregates results and triggers report generation.
- `tests/helper_functions/write_to_csv.py` â€” helper that updates `input_files/test_data.csv` with returned IDs.
- `utils/report_generator/` â€” HTML report template, CSS/JS, and `generate_report.py` that writes and opens the report.
- `utils/docx_generator/` â€” Word template and `export_to_docx.py` used to append request/response details.
- `test_result_generator.py` â€” generates base DOCX files from `input_files/test_case.csv` and the Word template.

## Test flow (concise)

1. `pytest` parametrizes tests using a merged view of `test_case.csv` and `test_data.csv`.
2. For each test row, `test_post_and_get` does:
   - POST to `BASE_URL` with JSON payload.
   - Capture POST response and an assertion on `post_status_code`.
   - Extract returned ID and write it back to `input_files/test_data.csv` (helper `update_csv_with_id`).
   - GET the resource using the returned identifier and assert on `get_status_code`.
   - Store request/response/assertion results in the shared session context.
3. After all tests finish, the session fixture generates the HTML report and appends request/response details into DOCX files for passed cases.

## Data format (CSV)

- `input_files/test_case.csv`: columns `tc_no,tc_name,tc_description`.
- `input_files/test_data.csv`: columns `tc_no,userId,title,body,post_status_code,get_status_code,id`.

The test runner merges rows by `tc_no` to build each parametrized test case.

## Outputs

- HTML report: `test_reports/test_report.html` (opens in browser on generation).
- DOCX per-test files: `test_results/` (base DOCX generated by `test_result_generator.py`, then appended for passed cases by `utils.docx_generator.export_to_docx`).


https://chatgpt.com/s/t_68adc91055408191aeb04d19c5a818e2
https://chatgpt.com/s/t_68adcba9d59881919dfc946766821de2

## Project Structure:
<pre>
ğŸ“ <a href="." style="text-decoration:none">project_testAPI</a>
â”œâ”€â”€ ğŸ“„ <a href="./.gitignore" style="text-decoration:none">.gitignore</a>
â”œâ”€â”€ ğŸ“„ <a href="./README.md" style="text-decoration:none">README.md</a>
â”œâ”€â”€ ğŸ“ <a href="./config" style="text-decoration:none">config</a>
â”‚   â””â”€â”€ ğŸ“„ <a href="./config/config.py" style="text-decoration:none">config.py</a>
â”œâ”€â”€ ğŸ“„ <a href="./flow.txt" style="text-decoration:none">flow.txt</a>
â”œâ”€â”€ ğŸ“ <a href="./input_files" style="text-decoration:none">input_files</a>
â”‚   â”œâ”€â”€ ğŸ“„ <a href="./input_files/test_case.csv" style="text-decoration:none">test_case.csv</a>
â”‚   â””â”€â”€ ğŸ“„ <a href="./input_files/test_data.csv" style="text-decoration:none">test_data.csv</a>
â”œâ”€â”€ ğŸ“„ <a href="./openapi_specifications.json" style="text-decoration:none">openapi_specifications.json</a>
â”œâ”€â”€ ğŸ“„ <a href="./project_structure_generator.py" style="text-decoration:none">project_structure_generator.py</a>
â”œâ”€â”€ ğŸ“„ <a href="./test_result_generator.py" style="text-decoration:none">test_result_generator.py</a>
â”œâ”€â”€ ğŸ“ <a href="./tests" style="text-decoration:none">tests</a>
â”‚   â”œâ”€â”€ ğŸ“ <a href="./tests/helper_functions" style="text-decoration:none">helper_functions</a>
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ <a href="./tests/helper_functions/csv_reader.py" style="text-decoration:none">csv_reader.py</a>
â”‚   â”‚   â””â”€â”€ ğŸ“„ <a href="./tests/helper_functions/write_to_csv.py" style="text-decoration:none">write_to_csv.py</a>
â”‚   â””â”€â”€ ğŸ“„ <a href="./tests/test_api.py" style="text-decoration:none">test_api.py</a>
â””â”€â”€ ğŸ“ <a href="./utils" style="text-decoration:none">utils</a>
    â”œâ”€â”€ ğŸ“ <a href="./utils/docx_generator" style="text-decoration:none">docx_generator</a>
    â”‚   â”œâ”€â”€ ğŸ“„ <a href="./utils/docx_generator/export_to_docx.py" style="text-decoration:none">export_to_docx.py</a>
    â”‚   â””â”€â”€ ğŸ“„ <a href="./utils/docx_generator/template.docx" style="text-decoration:none">template.docx</a>
    â””â”€â”€ ğŸ“ <a href="./utils/report_generator" style="text-decoration:none">report_generator</a>
        â”œâ”€â”€ ğŸ“„ <a href="./utils/report_generator/generate_report.py" style="text-decoration:none">generate_report.py</a>
        â”œâ”€â”€ ğŸ“ <a href="./utils/report_generator/static" style="text-decoration:none">static</a>
        â”‚   â”œâ”€â”€ ğŸ“„ <a href="./utils/report_generator/static/script.js" style="text-decoration:none">script.js</a>
        â”‚   â””â”€â”€ ğŸ“„ <a href="./utils/report_generator/static/style.css" style="text-decoration:none">style.css</a>
        â””â”€â”€ ğŸ“ <a href="./utils/report_generator/templates" style="text-decoration:none">templates</a>
            â””â”€â”€ ğŸ“„ <a href="./utils/report_generator/templates/report_template.html" style="text-decoration:none">report_template.html</a>
</pre>